{"ast":null,"code":"var _jsxFileName = \"/home/aashiyatanwar/MovieProject/MovieProject/movie-app/src/context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/React.createContext();\nconst AppProvider = ({\n  children\n}) => {\n  _s();\n  const [loading, setloading] = useState(true);\n  const [searchTerm, setsearchTerm] = useState(\"\");\n  const [movies, setmovies] = useState([]);\n  const fetchMovies = () => {\n    setloading(true);\n    fetch(`https://imdb8.p.rapidapi.com/title/find?q=${searchTerm}`, {\n      method: \"GET\",\n      headers: {\n        \"x-rapidapi-key\": \"d4225d746amsh3c36ac6a4dcaf9ep1c2235jsnfe11e2c62954\",\n        \"x-rapidapi-host\": \"imdb8.p.rapidapi.com\"\n      }\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      const apiresponse = data.results;\n      console.log(apiresponse);\n      if (apiresponse) {\n        const newMovies = [];\n        apiresponse.map(item => {\n          if (!(\"knownFor\" in item)) {\n            const {\n              id,\n              titleType,\n              image,\n              title,\n              year\n            } = item;\n            newMovies.push({\n              id: id.substr(7, id.length - 1),\n              name: title,\n              image: image ? image.url : \"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\",\n              titleType: titleType,\n              year: year\n            });\n          }\n        });\n        console.log(newMovies);\n        setmovies(newMovies);\n      } else {\n        setmovies([]);\n      }\n      setloading(false);\n    }).catch(err => {\n      console.error(err);\n      setloading(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      loading,\n      searchTerm,\n      movies,\n      setsearchTerm,\n      setmovies,\n      setloading,\n      fetchMovies\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(AppProvider, \"tuA8TdlKAu1feStVNm0G1UvkPiY=\");\n_c = AppProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { AppContext, AppProvider };\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","useState","useContext","jsxDEV","_jsxDEV","AppContext","createContext","AppProvider","children","_s","loading","setloading","searchTerm","setsearchTerm","movies","setmovies","fetchMovies","fetch","method","headers","then","response","json","data","console","log","apiresponse","results","newMovies","map","item","id","titleType","image","title","year","push","substr","length","name","url","catch","err","error","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["/home/aashiyatanwar/MovieProject/MovieProject/movie-app/src/context.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n  const [loading, setloading] = useState(true);\n  const [searchTerm, setsearchTerm] = useState(\"\");\n  const [movies, setmovies] = useState([]);\n\n  const fetchMovies = () => {\n    setloading(true);\n    fetch(`https://imdb8.p.rapidapi.com/title/find?q=${searchTerm}`, {\n      method: \"GET\",\n      headers: {\n        \"x-rapidapi-key\": \"d4225d746amsh3c36ac6a4dcaf9ep1c2235jsnfe11e2c62954\",\n        \"x-rapidapi-host\": \"imdb8.p.rapidapi.com\",\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        const apiresponse = data.results;\n        console.log(apiresponse);\n\n        if (apiresponse) {\n          const newMovies = [];\n          apiresponse.map((item) => {\n            if (!(\"knownFor\" in item)) {\n              const { id, titleType, image, title, year } = item;\n              newMovies.push({\n                id: id.substr(7, id.length - 1),\n                name: title,\n                image: image\n                  ? image.url\n                  : \"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\",\n                titleType: titleType,\n                year: year,\n              });\n            }\n          });\n          console.log(newMovies);\n          setmovies(newMovies);\n        } else {\n          setmovies([]);\n        }\n        setloading(false);\n      })\n      .catch((err) => {\n        console.error(err);\n        setloading(false);\n      });\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        loading,\n        searchTerm,\n        movies,\n        setsearchTerm,\n        setmovies,\n        setloading,\n        fetchMovies,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}